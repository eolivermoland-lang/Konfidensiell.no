import{c as o,b as N,r as i,j as e,m as h,R as S,G as k}from"./index-D3gNQKRr.js";import{E as A,U as T}from"./users-dkCETcad.js";import{S as g}from"./shield-check-D7PAkn5x.js";import{S as C}from"./shield-alert-Dzp5_-n2.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=o("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=o("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),M=()=>{const a=N(),[u,b]=i.useState(!1),[c,f]=i.useState(!0),[l,y]=i.useState({views:"0",visitors:"0",bandwidth:"0 MB"}),d="961d9b8159d86770ecbfa38b78c6ea7c",v="VqbFcHPBkLelYskDf6tzknO7Ag0Jr6CTnQQ4T_Tv";i.useEffect(()=>{const t=localStorage.getItem("admin_session");if(!t){a("/");return}try{const s=JSON.parse(t);if(!s.authenticated||new Date().getTime()>s.expiry){localStorage.removeItem("admin_session"),a("/");return}b(!0)}catch{a("/");return}(async()=>{var s,x,p;try{const m=`
          query {
            viewer {
              accounts(filter: { accountTag: "${d}" }) {
                pagesDev {
                  analytics(filter: { date_geq: "2026-01-01" }, limit: 1) {
                    sum { requests pageViews bytes }
                  }
                }
              }
            }
          }
        `,r=(p=(x=(s=(await(await fetch("https://api.cloudflare.com/client/v4/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({query:m})})).json()).viewer.accounts[0])==null?void 0:s.pagesDev)==null?void 0:x.analytics[0])==null?void 0:p.sum;r&&y({views:r.pageViews.toLocaleString(),visitors:r.requests.toLocaleString(),bandwidth:(r.bytes/1024/1024).toFixed(2)+" MB"})}catch{console.error("API Error")}finally{f(!1)}})()},[a]);const j=()=>{localStorage.removeItem("admin_session"),a("/")};if(!u)return null;const w=[{label:"Real Page Views",value:l.views,icon:e.jsx(A,{}),color:"text-blue-500"},{label:"Total Requests",value:l.visitors,icon:e.jsx(T,{}),color:"text-purple-500"},{label:"Bandwidth Used",value:l.bandwidth,icon:e.jsx(D,{}),color:"text-green-500"},{label:"Cloudflare Status",value:"Active",icon:e.jsx(g,{}),color:"text-blue-400"}];return e.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-12 gap-6",children:[e.jsxs(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter text-glow",children:"Command Center"}),e.jsxs("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs mt-2 flex items-center gap-2",children:[e.jsx(g,{size:14,className:"text-green-500"})," Secure Admin Session: Oliver"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"p-3 bg-slate-800 text-gray-400 rounded-xl hover:text-white transition-all border border-white/5",children:e.jsx(E,{size:20,className:c?"animate-spin":""})}),e.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-6 py-3 bg-red-600/10 text-red-500 rounded-xl font-bold hover:bg-red-600 hover:text-white transition-all active:scale-95 border border-red-600/20",children:[e.jsx(L,{size:18})," Logout"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:w.map((t,n)=>e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"glass-card p-8 rounded-3xl border border-white/5",children:[e.jsx("div",{className:`mb-4 ${t.color}`,children:S.cloneElement(t.icon,{size:28})}),e.jsx("div",{className:"text-3xl font-black text-white mb-1",children:c?"...":t.value}),e.jsx("div",{className:"text-gray-500 text-[10px] font-black uppercase tracking-widest",children:t.label})]},n))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-panel rounded-[2.5rem] p-10 border border-white/5",children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-8 uppercase tracking-tighter flex items-center gap-3",children:[e.jsx(k,{className:"text-blue-500"})," Live Data Stream"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-950/50 rounded-2xl border border-white/5",children:[e.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase",children:"Cloudflare Account"}),e.jsx("span",{className:"text-white font-mono text-xs",children:d})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-950/50 rounded-2xl border border-white/5",children:[e.jsx("span",{className:"text-gray-400 text-xs font-bold uppercase",children:"Auth Status"}),e.jsx("span",{className:"text-green-500 text-[10px] font-black uppercase bg-green-500/10 px-2 py-1 rounded",children:"Session Verified"})]})]})]}),e.jsxs("div",{className:"glass-panel rounded-[2.5rem] p-10 border border-white/5",children:[e.jsxs("h3",{className:"text-xl font-black text-white mb-8 uppercase tracking-tighter flex items-center gap-3",children:[e.jsx(C,{className:"text-purple-500"})," Security Log"]}),e.jsxs("div",{className:"text-[10px] font-mono text-gray-500 space-y-2",children:[e.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] - HANDSHAKE: SUCCESS"]}),e.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] - TOKEN: VALIDATED"]}),e.jsxs("p",{children:["[",new Date().toLocaleTimeString(),"] - ENCRYPTION: ACTIVE"]})]})]})]})]})};export{M as default};
